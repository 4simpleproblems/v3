<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>4SP | Clock Display</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@400;600&family=Montserrat:wght@400;600&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
  
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="firebase-config.js"></script>

  <style>
    :root {
      --dark-bg: #1a1a1a;
      --darker-bg: #0d0d0d;
      --light-text: #f0f0f0;
      --light-gray: #e0e0e0;
      --section-color: #3498db;
      
      /* Clock customization variables */
      --clock-font: 'Roboto Mono', monospace;
      --clock-color: #333333;
      --clock-bg: #ffffff;
      --transition-speed: 0.5s;
      --controls-bg: #ffffff;
      --controls-text: #333333;
      --controls-border: #e0e0e0;
      --controls-option-bg: #f0f0f0;
      --controls-option-active-bg: #333333; /* Changed from #3498db to #333333 for black theme */
      --controls-option-active-text: #ffffff;
    }

    body {
      background-color: var(--clock-bg);
      color: var(--clock-color);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      font-family: 'Roboto Mono', monospace;
      transition: background-color var(--transition-speed) ease;
    }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 3rem;
      background-color: var(--darker-bg);
      color: var(--light-text);
      border-bottom: 1px solid var(--darker-bg);
      z-index: 100;
    }
    
    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -1.5px;
    }
    
    .nav-buttons {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .btn {
      display: inline-block;
      padding: 1rem 2rem;
      border-radius: 50px;
      font-size: 1rem;
      line-height: normal;
      cursor: pointer;
      text-align: center;
      border: 2px solid transparent;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .btn.secondary {
      background-color: transparent;
      color: var(--light-text);
      border-color: var(--light-text);
    }
    
    .btn.secondary:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .hidden {
      display: none !important;
    }

    /* Clock display area */
    .clock-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
      padding: 2rem;
      transition: all var(--transition-speed) ease;
    }

    .clock-display {
      font-size: 8rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--clock-color);
      font-family: var(--clock-font);
      transition: color var(--transition-speed) ease, font-family var(--transition-speed) ease;
    }

    .date-display {
      font-size: 2rem;
      margin-bottom: 3rem;
      font-family: var(--clock-font);
      transition: color var(--transition-speed) ease, font-family var(--transition-speed) ease;
    }

    /* Controls area */
    .controls-container {
      background-color: var(--controls-bg);
      border-radius: 24px;
      padding: 2rem;
      width: 90%;
      max-width: 800px;
      margin: 0 auto 2rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.08);
      transition: all var(--transition-speed) ease;
      position: relative;
    }

    .controls-wrapper {
      transition: max-height var(--transition-speed) ease;
      overflow: hidden;
      max-height: 1000px;
    }

    .controls-wrapper.collapsed {
      max-height: 0;
    }

    .controls-header {
      margin-top: 0;
      padding-bottom: 0.5rem;
      border-bottom: 3px solid var(--section-color);
      color: var(--controls-text);
      font-weight: 700;
      font-size: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .toggle-controls-btn {
      background-color: var(--section-color);
      color: white;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    
    .toggle-controls-btn:hover {
      background-color: #2980b9;
    }
    
    .toggle-controls-btn.collapsed {
      transform: rotate(180deg);
    }

    .control-group {
      margin-bottom: 1.5rem;
    }

    .control-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .control-options {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .control-option {
      background-color: var(--controls-option-bg);
      border: 2px solid transparent;
      border-radius: 12px;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.2s ease;
      color: var(--controls-text); /* This will keep dark text for unselected buttons */
    }

    .control-option:hover {
      background-color: var(--controls-option-bg);
      filter: brightness(0.95);
    }

    .control-option.active {
      background-color: var(--controls-option-active-bg);
      color: var(--controls-option-active-text);
      border-color: rgba(0, 0, 0, 0.2);
    }

    /* Color swatches for theme selection */
    .color-swatch {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      position: relative;
      border: 2px solid transparent;
      transition: transform 0.2s ease;
    }

    .color-swatch:hover {
      transform: scale(1.1);
    }

    .color-swatch.active {
      border-color: #333;
    }

    .color-swatch::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background-color: white;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .color-swatch.active::after {
      opacity: 1;
    }

    /* Buttons */
    .action-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
      justify-content: center;
    }

    .action-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      background-color: var(--section-color);
      color: white;
      border: none;
      font-weight: 500;
      font-family: inherit;
      transition: all 0.2s ease;
    }

    .action-btn:hover {
      background-color: #2980b9;
    }

    .action-btn.secondary {
      background-color: #f0f0f0;
      color: #333;
    }

    .action-btn.secondary:hover {
      background-color: #e0e0e0;
    }

    /* Fullscreen mode */
    .fullscreen-clock {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: var(--clock-bg);
      z-index: 9999;
      transition: all var(--transition-speed) ease;
    }

    .fullscreen-clock .clock-display {
      font-size: 12rem;
      transition: font-size var(--transition-speed) ease;
    }

    .fullscreen-clock .date-display {
      font-size: 3rem;
      transition: font-size var(--transition-speed) ease;
    }

    .fullscreen-clock.size-small .clock-display {
      font-size: 8rem;
    }

    .fullscreen-clock.size-small .date-display {
      font-size: 2rem;
    }

    .fullscreen-clock.size-large .clock-display {
      font-size: 16rem;
    }

    .fullscreen-clock.size-large .date-display {
      font-size: 4rem;
    }

    .fullscreen-clock.layout-vertical {
      flex-direction: column;
    }

    .fullscreen-clock.layout-horizontal {
      flex-direction: row;
      gap: 3rem;
    }

    .fullscreen-clock.layout-date-above {
      flex-direction: column-reverse;
    }

    .fullscreen-controls {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 1rem;
      background-color: rgba(0, 0, 0, 0.3);
      padding: 0.75rem;
      border-radius: 50px;
      opacity: 0.3;
      transition: opacity 0.3s ease;
    }

    .fullscreen-controls:hover {
      opacity: 1;
    }

    .fullscreen-control-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background-color: rgba(255, 255, 255, 0.8);
      color: #333;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      transition: background-color 0.2s ease;
    }

    .fullscreen-control-btn:hover {
      background-color: white;
    }

    .fullscreen-control-btn.active {
      background-color: var(--section-color);
      color: white;
    }

    .exit-fullscreen {
      position: absolute;
      top: 2rem;
      right: 2rem;
      background-color: rgba(0, 0, 0, 0.3);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      font-family: inherit;
      transition: background-color 0.2s ease;
      opacity: 0.3;
    }

    .exit-fullscreen:hover {
      background-color: rgba(0, 0, 0, 0.7);
      opacity: 1;
    }

    /* Fade animations */
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .fade-out {
      animation: fadeOut 0.5s ease-out;
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .clock-display {
        font-size: 5rem;
      }

      .date-display {
        font-size: 1.5rem;
      }

      .fullscreen-clock .clock-display {
        font-size: 7rem;
      }

      .fullscreen-clock .date-display {
        font-size: 2rem;
      }

      .controls-container {
        padding: 1.5rem;
      }

      .control-options {
        gap: 0.5rem;
      }

      .color-swatch {
        width: 32px;
        height: 32px;
      }
    }
  </style>
</head>

<body>
  <nav class="navbar">
    <div class="logo">4SP</div>
    <div class="nav-buttons">
      <a href="dashboard.html" class="btn secondary">Dashboard</a>
      <a href="#" class="btn secondary" id="logoutBtn">Log Out</a>
    </div>
  </nav>

  <div class="clock-container" id="clockContainer">
    <div class="clock-display" id="clockDisplay">00:00:00</div>
    <div class="date-display" id="dateDisplay">Monday, January 1, 2025</div>

    <div class="controls-container" id="controlsContainer">
      <h2 class="controls-header">
        Clock Settings
        <button class="toggle-controls-btn" id="toggleControlsBtn">↑</button>
      </h2>
      
      <div class="controls-wrapper" id="controlsWrapper">
        <div class="control-group">
          <span class="control-label">Time Format</span>
          <div class="control-options">
            <div class="control-option active" data-format="12">12-Hour</div>
            <div class="control-option" data-format="24">24-Hour</div>
          </div>
        </div>

        <div class="control-group">
          <span class="control-label">Show Seconds</span>
          <div class="control-options">
            <div class="control-option active" data-seconds="true">On</div>
            <div class="control-option" data-seconds="false">Off</div>
          </div>
        </div>

        <div class="control-group">
          <span class="control-label">Font Style</span>
          <div class="control-options">
            <div class="control-option active" data-font="'Roboto Mono', monospace">Roboto Mono</div>
            <div class="control-option" data-font="'Inter', sans-serif">Inter</div>
            <div class="control-option" data-font="'Poppins', sans-serif">Poppins</div>
            <div class="control-option" data-font="'Montserrat', sans-serif">Montserrat</div>
            <div class="control-option" data-font="'Source Code Pro', monospace">Source Code Pro</div>
          </div>
        </div>

        <div class="control-group">
          <span class="control-label">Color Theme</span>
          <div class="control-options">
            <div class="color-swatch active" style="background-color: #333333;" data-color="#333333" data-bg="#ffffff" data-section="#333333" data-controls-bg="#ffffff" data-controls-text="#333333"></div>
            <div class="color-swatch" style="background-color: #3498db;" data-color="#3498db" data-bg="#f0f8ff" data-section="#3498db" data-controls-bg="#f0f8ff" data-controls-text="#3498db"></div>
            <div class="color-swatch" style="background-color: #2ecc71;" data-color="#2ecc71" data-bg="#f0fff0" data-section="#2ecc71" data-controls-bg="#f0fff0" data-controls-text="#2ecc71"></div>
            <div class="color-swatch" style="background-color: #9b59b6;" data-color="#9b59b6" data-bg="#f9f0ff" data-section="#9b59b6" data-controls-bg="#f9f0ff" data-controls-text="#9b59b6"></div>
            <div class="color-swatch" style="background-color: #e74c3c;" data-color="#e74c3c" data-bg="#fff0f0" data-section="#e74c3c" data-controls-bg="#fff0f0" data-controls-text="#e74c3c"></div>
            <div class="color-swatch" style="background-color: #f39c12;" data-color="#f39c12" data-bg="#fffaf0" data-section="#f39c12" data-controls-bg="#fffaf0" data-controls-text="#f39c12"></div>
            <div class="color-swatch" style="background-color: #34495e;" data-color="#ffffff" data-bg="#34495e" data-section="#3498db" data-controls-bg="#2c3e50" data-controls-text="#ffffff"></div>
            <div class="color-swatch" style="background-color: #1abc9c;" data-color="#ffffff" data-bg="#1abc9c" data-section="#16a085" data-controls-bg="#16a085" data-controls-text="#ffffff"></div>
          </div>
        </div>

        <div class="action-buttons">
          <button class="action-btn" id="fullscreenBtn">Enter Fullscreen</button>
          <button class="action-btn secondary" id="resetBtn">Reset Settings</button>
        </div>
      </div>
    </div>
  </div>

  <div class="fullscreen-clock hidden" id="fullscreenClock">
    <div class="clock-display" id="fullscreenClockDisplay">00:00:00</div>
    <div class="date-display" id="fullscreenDateDisplay">Monday, January 1, 2025</div>
    <button class="exit-fullscreen" id="exitFullscreenBtn">Exit Fullscreen</button>
    <div class="fullscreen-controls">
      <button class="fullscreen-control-btn active" id="fs-layout-vertical" title="Vertical Layout">⬍</button>
      <button class="fullscreen-control-btn" id="fs-layout-horizontal" title="Horizontal Layout">⬌</button>
      <button class="fullscreen-control-btn" id="fs-layout-date-above" title="Date Above">↑</button>
      <button class="fullscreen-control-btn" id="fs-size-small" title="Small Size">A</button>
      <button class="fullscreen-control-btn active" id="fs-size-medium" title="Medium Size">A+</button>
      <button class="fullscreen-control-btn" id="fs-size-large" title="Large Size">A++</button>
    </div>
  </div>

  <script>
    // Authentication state management
    function handleAuthState(user) {
      const logoutBtn = document.getElementById('logoutBtn');

      if (!user) {
        window.location.href = 'index.html';
      }
    }

    // Initialize Firebase authentication
    function initAuth() {
      try {
        const auth = firebase.auth();

        const logoutBtn = document.getElementById('logoutBtn');
        if (logoutBtn) {
          logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            auth.signOut().then(() => {
              window.location.href = 'index.html';
            }).catch(error => {
              console.error("Logout error:", error);
            });
          });
        }

        auth.onAuthStateChanged(user => {
          handleAuthState(user);
        });

      } catch (error) {
        console.error("Auth initialization error:", error);
        window.location.href = 'index.html';
      }
    }

    // Clock functionality
    function initClock() {
      const clockDisplay = document.getElementById('clockDisplay');
      const dateDisplay = document.getElementById('dateDisplay');
      const fullscreenClockDisplay = document.getElementById('fullscreenClockDisplay');
      const fullscreenDateDisplay = document.getElementById('fullscreenDateDisplay');
      const fullscreenClock = document.getElementById('fullscreenClock');
      const controlsContainer = document.getElementById('controlsContainer');
      const controlsWrapper = document.getElementById('controlsWrapper');
      const toggleControlsBtn = document.getElementById('toggleControlsBtn');
      
      // Default settings
      let clockSettings = {
        format: '12',
        showSeconds: true,
        font: "'Roboto Mono', monospace",
        color: '#333333',
        background: '#ffffff',
        controlsBg: '#ffffff',
        controlsText: '#333333',
        sectionColor: '#333333', // Changed from #3498db to #333333 for black theme
        fullscreenLayout: 'vertical', // vertical, horizontal, date-above
        fullscreenSize: 'medium' // small, medium, large
      };
      
      // Try to load saved settings from localStorage
      try {
        const savedSettings = localStorage.getItem('clockSettings');
        if (savedSettings) {
          clockSettings = JSON.parse(savedSettings);
          applySettings(clockSettings);
        }
      } catch (error) {
        console.error("Error loading saved settings:", error);
      }
      
      // Update the clock display
      function updateClock() {
        const now = new Date();
        
        let hours = now.getHours();
        let minutes = now.getMinutes();
        let seconds = now.getSeconds();
        let ampm = '';
        
        // Format hours based on 12/24 hour setting
        if (clockSettings.format === '12') {
          ampm = hours >= 12 ? ' PM' : ' AM';
          hours = hours % 12;
          hours = hours ? hours : 12; // Convert 0 to 12 for 12-hour format
        }
        
        // Add leading zeros
        minutes = minutes < 10 ? '0' + minutes : minutes;
        seconds = seconds < 10 ? '0' + seconds : seconds;
        hours = hours < 10 ? '0' + hours : hours;
        
        // Format the time string
        let timeString = hours + ':' + minutes;
        if (clockSettings.showSeconds) {
          timeString += ':' + seconds;
        }
        timeString += ampm;
        
        // Update the clock displays
        clockDisplay.textContent = timeString;
        fullscreenClockDisplay.textContent = timeString;
        
        // Update the date display
        const options = { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        };
        const dateString = now.toLocaleDateString('en-US', options);
        dateDisplay.textContent = dateString;
        fullscreenDateDisplay.textContent = dateString;
      }
      
      // Apply settings to the UI
      function applySettings(settings) {
        // Apply time format
        document.querySelectorAll('[data-format]').forEach(el => {
          el.classList.toggle('active', el.dataset.format === settings.format);
        });
        
        // Apply seconds setting
        document.querySelectorAll('[data-seconds]').forEach(el => {
          el.classList.toggle('active', el.dataset.seconds === String(settings.showSeconds));
        });
        
        // Apply font setting
        document.querySelectorAll('[data-font]').forEach(el => {
          el.classList.toggle('active', el.dataset.font === settings.font);
        });
        
        // Apply color theme
        document.querySelectorAll('.color-swatch').forEach(el => {
          el.classList.toggle('active', el.dataset.color === settings.color && 
                                          el.dataset.bg === settings.background);
        });
        
        // Apply CSS variables
        document.documentElement.style.setProperty('--clock-font', settings.font);
        document.documentElement.style.setProperty('--clock-color', settings.color);
        document.documentElement.style.setProperty('--clock-bg', settings.background);
        document.documentElement.style.setProperty('--controls-bg', settings.controlsBg);
        document.documentElement.style.setProperty('--controls-text', settings.controlsText);
        document.documentElement.style.setProperty('--section-color', settings.sectionColor);
        
        // Determine if we should use black or theme color for active buttons
        if (settings.background === '#ffffff' && settings.color === '#333333') {
          // For default black theme, use black buttons
          document.documentElement.style.setProperty('--controls-option-active-bg', '#333333');
        } else {
          // For other themes, use the section color
          document.documentElement.style.setProperty('--controls-option-active-bg', settings.sectionColor);
        }
        
        // Apply fullscreen layout/size
        fullscreenClock.className = 'fullscreen-clock';
        if (fullscreenClock.classList.contains('hidden')) {
          fullscreenClock.classList.add('hidden');
        }
        fullscreenClock.classList.add('layout-' + settings.fullscreenLayout);
        fullscreenClock.classList.add('size-' + settings.fullscreenSize);
        
        // Update fullscreen controls
        document.querySelectorAll('[id^=fs-layout-]').forEach(el => {
          const layout = el.id.replace('fs-layout-', '');
          el.classList.toggle('active', layout === settings.fullscreenLayout);
        });
        
        document.querySelectorAll('[id^=fs-size-]').forEach(el => {
          const size = el.id.replace('fs-size-', '');
          el.classList.toggle('active', size === settings.fullscreenSize);
        });
        
        // Save the settings
        localStorage.setItem('clockSettings', JSON.stringify(settings));
        
        // Update the clock display immediately
        updateClock();
      }
      
      // Toggle controls visibility
      toggleControlsBtn.addEventListener('click', () => {
        controlsWrapper.classList.toggle('collapsed');
        toggleControlsBtn.classList.toggle('collapsed');
        toggleControlsBtn.textContent = controlsWrapper.classList.contains('collapsed') ? '↓' : '↑';
      });
      
      // Time format options
      document.querySelectorAll('[data-format]').forEach(option => {
        option.addEventListener('click', () => {
          clockSettings.format = option.dataset.format;
          applySettings(clockSettings);
        });
      });
      
      // Show seconds options
      document.querySelectorAll('[data-seconds]').forEach(option => {
        option.addEventListener('click', () => {
          clockSettings.showSeconds = option.dataset.seconds === 'true';
          applySettings(clockSettings);
        });
      });
      
      // Font options
      document.querySelectorAll('[data-font]').forEach(option => {
        option.addEventListener('click', () => {
          clockSettings.font = option.dataset.font;
          applySettings(clockSettings);
        });
      });
      
      // Color theme options
      document.querySelectorAll('.color-swatch').forEach(swatch => {
        swatch.addEventListener('click', () => {
          clockSettings.color = swatch.dataset.color;
          clockSettings.background = swatch.dataset.bg;
          clockSettings.sectionColor = swatch.dataset.section;
          clockSettings.controlsBg = swatch.dataset.controlsBg;
          clockSettings.controlsText = swatch.dataset.controlsText;
          applySettings(clockSettings);
        });
      });
      
      // Fullscreen button
      const fullscreenBtn = document.getElementById('fullscreenBtn');
      fullscreenBtn.addEventListener('click', () => {
        fullscreenClock.classList.remove('hidden');
        fullscreenClock.classList.add('fade-in');
      });
      
      // Exit fullscreen button
      const exitFullscreenBtn = document.getElementById('exitFullscreenBtn');
      exitFullscreenBtn.addEventListener('click', () => {
        fullscreenClock.classList.add('fade-out');
        setTimeout(() => {
          fullscreenClock.classList.add('hidden');
          fullscreenClock.classList.remove('fade-out');
        }, 500);
      });
      
      // Reset settings button
      const resetBtn = document.getElementById('resetBtn');
      resetBtn.addEventListener('click', () => {
        // Reset to default settings
        clockSettings = {
          format: '12',
          showSeconds: true,
          font: "'Roboto Mono', monospace",
          color: '#333333',
          background: '#ffffff',
          controlsBg: '#ffffff',
          controlsText: '#333333',
          sectionColor: '#333333', // Changed from #3498db to #333333 for black theme
          fullscreenLayout: 'vertical',
          fullscreenSize: 'medium'
        };
        applySettings(clockSettings);
      });
      
      // Fullscreen layout controls - prevent exiting fullscreen when selecting options
      document.querySelectorAll('[id^=fs-layout-]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation(); // Prevent event bubbling
          const layout = btn.id.replace('fs-layout-', '');
          clockSettings.fullscreenLayout = layout;
          applySettings(clockSettings);
        });
      });
      
    // Fullscreen size controls - prevent exiting fullscreen when selecting options
      document.querySelectorAll('[id^=fs-size-]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation(); // Prevent event bubbling
          const size = btn.id.replace('fs-size-', '');
          clockSettings.fullscreenSize = size;
          applySettings(clockSettings);
        });
      });
      
      // Set up the interval to update the clock
      updateClock(); // Initial update
      setInterval(updateClock, 1000); // Update every second
      
      // Initial settings application
      applySettings(clockSettings);
    }

    // Initialize everything when DOM is fully loaded
    document.addEventListener('DOMContentLoaded', () => {
      try {
        initAuth();
        initClock();
      } catch (error) {
        console.error("Initialization error:", error);
      }
    });
  </script>
</body>
</html>
